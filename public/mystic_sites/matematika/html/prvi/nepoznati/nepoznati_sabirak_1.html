<html>
	<head>
		<title>Шаргарепе</title>
		<meta name="viewport" content="width=device-width,user-scalable=no">
		<style>
			body { 
				margin: 0; 
				font-family: Arial, Helvetica, sans-serif;
				font-size: 128%;
			}
			
			.c_container_div
			{
				//border: 2px solid green;
				width: 600px;
				margin: 0 auto;
				padding-left: 9px;
				position: relative;
			}
			
			.selecctor {
				width:64px;
				height:64px;
				position:absolute;
				cursor:pointer;
				//border: solid red 1px;
				-webkit-tap-highlight-color:transparent;
				background: url("/matematika/media/images/carrot1.png"); 
				background-size: 100%;
			}
			
			.token { 
				width:600px;
				height:110px;
				cursor:pointer;
				position:absolute;
				margin:7px;
				-webkit-tap-highlight-color:transparent;
			}

		</style>
		<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-5">
		
		<script>
		var eliment = 0;
		//var ELEMENT_WIDTH = 100;
		var bravoShown = false;
		var touch = false;
		var resultCount = 0;
		

		var divContainer = document.getElementById('id-container-div');
		
		function touchStartHandler(event) {
			var obj = this;
			console.log('huhu');
			touch = true;
			eliment = obj;
			resultCount++;
			if(resultCount>3) return;
			carObj = document.getElementById("id-nepoznati-" + resultCount);
			carObj.style.left = window.event.pageX - 32 - divContainer.offsetLeft;
			carObj.style.top = window.event.pageY - 32 - divContainer.offsetTop;
			carObj.style.display = 'block';
			checkResult();
		}

		function onWindowResize()
		{
			var myScreenWidth = 600;
			if(window.innerWidth < 600)
			{
				myScreenWidth = window.innerWidth;
			}
			
			//adjust game to less screen? ui.
			divContainer.style.width = myScreenWidth + 'px';
			divContainer.style.height = (window.innerHeight-40) + 'px';

			ELEMENT_WIDTH = myScreenWidth/6;
			var smalling = 600 - myScreenWidth;
			
			/*var elements = document.querySelectorAll('.token');
			var divselecctors = document.querySelectorAll('.selecctor');
			if(smalling>0)
			{
				if(smalling < 220)
				{
					var leftpad = 120 - smalling/2;
					elements[0].style.left = ""+leftpad+"px";
					
					var divselecctorsleft1 = 145 - smalling/2;
					divselecctors[0].style.left = "" + divselecctorsleft1 + "px";
					var divselecctorsleft2 = 210 - smalling/2;
					divselecctors[1].style.left = "" + divselecctorsleft2 + "px";
					var divselecctorsleft3 = 275 - smalling/2;
					divselecctors[2].style.left = "" + divselecctorsleft3 + "px";
					var divselecctorsleft4 = 340 - smalling/2;
					divselecctors[3].style.left = "" + divselecctorsleft4 + "px";
					var divselecctorsleft5 = 405 - smalling/2;
					divselecctors[4].style.left = "" + divselecctorsleft5 + "px";
				
				}
				else
				{
					var picwidth = 340 - 240*(smalling-220)/300;
					var picheight = 510*picwidth/340;
					elements[0].style.width = "" + picwidth + "px";
					elements[0].style.height = "" + picheight + "px";
					elements[0].style.left = "10px";
					
					var divselecctorsleft1 = 145 - 110 - (smalling-220)/8;
					divselecctors[0].style.left = "" + divselecctorsleft1 + "px";
					var divselecctorsleft2 = 210 - 110 - (smalling-220)/4;
					divselecctors[1].style.left = "" + divselecctorsleft2 + "px";
					var divselecctorsleft3 = 275 - 110 - (smalling-220)/3;
					divselecctors[2].style.left = "" + divselecctorsleft3 + "px";
					var divselecctorsleft4 = 340 - 110 - (smalling-220)/2;
					divselecctors[3].style.left = "" + divselecctorsleft4 + "px";
					var divselecctorsleft5 = 405 - 110 - (smalling-220)/1.5;
					divselecctors[4].style.left = "" + divselecctorsleft5 + "px";
					
				}
				
				
			}
			else
			{
				elements[0].style.left = "" + 120 + "px";
				elements[0].style.width = "" + 340 + "px";
				elements[0].style.height = "" + 510 + "px";
				
				divselecctors[0].style.left = "145px";
				divselecctors[1].style.left = "210px";
				divselecctors[2].style.left = "275px";
				divselecctors[3].style.left = "340px";
				divselecctors[4].style.left = "405px";
			}*/
		}
					
		function init()
		{
			
			window.addEventListener( 'resize', onWindowResize, false );
			divContainer = document.getElementById('id-container-div');
			console.log(window.innerWidth);
			divContainer.style.height = (window.innerHeight-40) + 'px';
			if(window.innerWidth < 600)
			{
				//adjust game to less screen?
				divContainer.style.width = window.innerWidth + 'px';
				//alert("screen width too small, try landscape");
				ELEMENT_WIDTH = window.innerWidth/6;
			
				var smalling = 600 - window.innerWidth;
			
				obj1 = document.getElementById('id-nepoznati-0');
				obj1.style.width = "" + (window.innerWidth-10) + "px";
				/*var elements = document.querySelectorAll('.token');
				var divselecctors = document.querySelectorAll('.selecctor');
				if(smalling>0)
				{
					if(smalling < 220)
					{
						var leftpad = 120 - smalling/2;
						elements[0].style.left = ""+leftpad+"px";
						
						var divselecctorsleft1 = 145 - smalling/2;
						divselecctors[0].style.left = "" + divselecctorsleft1 + "px";
						var divselecctorsleft2 = 210 - smalling/2;
						divselecctors[1].style.left = "" + divselecctorsleft2 + "px";
						var divselecctorsleft3 = 275 - smalling/2;
						divselecctors[2].style.left = "" + divselecctorsleft3 + "px";
						var divselecctorsleft4 = 340 - smalling/2;
						divselecctors[3].style.left = "" + divselecctorsleft4 + "px";
						var divselecctorsleft5 = 405 - smalling/2;
						divselecctors[4].style.left = "" + divselecctorsleft5 + "px";
					
					}
					else
					{
						var picwidth = 340 - 240*(smalling-220)/300;
						var picheight = 510*picwidth/340;
						elements[0].style.width = "" + picwidth + "px";
						elements[0].style.height = "" + picheight + "px";
						elements[0].style.left = "10px";
						
						var divselecctorsleft1 = 145 - 110 - (smalling-220)/8;
						divselecctors[0].style.left = "" + divselecctorsleft1 + "px";
						var divselecctorsleft2 = 210 - 110 - (smalling-220)/4;
						divselecctors[1].style.left = "" + divselecctorsleft2 + "px";
						var divselecctorsleft3 = 275 - 110 - (smalling-220)/3;
						divselecctors[2].style.left = "" + divselecctorsleft3 + "px";
						var divselecctorsleft4 = 340 - 110 - (smalling-220)/2;
						divselecctors[3].style.left = "" + divselecctorsleft4 + "px";
						var divselecctorsleft5 = 405 - 110 - (smalling-220)/1.5;
						divselecctors[4].style.left = "" + divselecctorsleft5 + "px";
						
					}
					
					
				}
				else
				{
					elements[0].style.left = "" + 120 + "px";
					elements[0].style.width = "" + 340 + "px";
					elements[0].style.height = "" + 510 + "px";
					
					divselecctors[0].style.left = "145px";
					divselecctors[1].style.left = "210px";
					divselecctors[2].style.left = "275px";
					divselecctors[3].style.left = "340px";
					divselecctors[4].style.left = "405px";
				}*/
			}
			
			//obj1 = document.getElementById('id-nepoznati-0');
			//obj2 = document.getElementById('za-toliko-zad3-2');
			//obj3 = document.getElementById('za-toliko-zad3-3');
			//obj4 = document.getElementById('za-toliko-zad3-4');
			//obj5 = document.getElementById('za-toliko-zad3-5');
			
			//obj1.addEventListener('touchstart', touchStartHandler, false);
			//obj2.addEventListener('touchstart', touchStartHandler, false);
			//obj3.addEventListener('touchstart', touchStartHandler, false);
			//obj4.addEventListener('touchstart', touchStartHandler, false);
			//obj5.addEventListener('touchstart', touchStartHandler, false);
		}

		function checkResult()
		{
			console.log('checkResult huhu');
			if(resultCount == 3)
			{
				if(!bravoShown)
				{
					alert('BRAVO PETRA!!!');
					bravoShown = true;
				}
			}
		}
		
		function goingDown(el)
		{
			if(!touch)
			{
				console.log('hehe');
				eliment = el;
				//get carrot obj
				resultCount++;
				if(resultCount>3) return;
				carObj = document.getElementById("id-nepoznati-" + resultCount);
				carObj.style.left = window.event.pageX - 32 - divContainer.offsetLeft;
				carObj.style.top = window.event.pageY - 32 - divContainer.offsetTop;
				carObj.style.display = 'block';
				checkResult();
			}
			
		}
		
		</script>
	</head>
	<body onload='init();' >
	
	<div id="id-container-div" class="c_container_div" style="">
		<br>
		Мама је рекла Павлу да засади 8 шаргарепа. Кликни на башту да засадиш шаргарепе које фале.<br>

		<div id='id-nepoznati-0' class='token' onmousedown='goingDown(this);' style='left:0px; top:95px; background: url("/matematika/media/images/field1.png") no-repeat; background-size: 100%; background-repeat: no-repeat;'>
		</div>
		
		<div id='id-nepoznati-1' class='selecctor' style='display:none; left:20px; top:95px;'>
		</div>
		<div id='id-nepoznati-2' class='selecctor' style='display:none; left:120px; top:95px;'>
		</div>
		<div id='id-nepoznati-3' class='selecctor' style='display:none; left:220px; top:95px;'>
		</div>
		
	</div>
		
	<div id="id-container-div" class="c_container_div" style="width:100px">
	<center><a href="sabirak.html">назад</a>&nbsp;&nbsp;&nbsp;<a href="./nepoznati_sabirak_1.html">поново</a> <center>
	</div>
	
	</body>
</html>